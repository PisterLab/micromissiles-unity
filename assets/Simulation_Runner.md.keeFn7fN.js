import{_ as s,c as a,o as n,aj as e}from"./chunks/framework.Cv6mcU5i.js";const g=JSON.parse('{"title":"Simulation Runner","description":"","frontmatter":{},"headers":[],"relativePath":"Simulation_Runner.md","filePath":"Simulation_Runner.md"}'),t={name:"Simulation_Runner.md"};function l(o,i,r,h,p,d){return n(),a("div",null,[...i[0]||(i[0]=[e(`<h1 id="simulation-runner" tabindex="-1">Simulation Runner <a class="header-anchor" href="#simulation-runner" aria-label="Permalink to “Simulation Runner”">​</a></h1><p>This guide describes how to build a standalone Unity player to kick off multiple simulation runs using a run configuration.</p><h2 id="standalone-build" tabindex="-1">Standalone Build <a class="header-anchor" href="#standalone-build" aria-label="Permalink to “Standalone Build”">​</a></h2><p>While the simulation can be executed interactively in the Unity Editor, a standalone player allows the simulation to be invoked from the command line. <code>build_standalone.py</code> is a helper script included in the <code>Tools</code> directory of the release to generate a standalone build of the simulator for the current operating system.</p><h3 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to “Requirements”">​</a></h3><p>To run <code>build_standalone.py</code>, ensure that you have Python 3 installed on your system and that you have the <code>absl-py</code> library.</p><h3 id="building" tabindex="-1">Building <a class="header-anchor" href="#building" aria-label="Permalink to “Building”">​</a></h3><p>Run the script as follows:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Tools/build_standalone.py</span></span></code></pre></div><p>You can specify three optional flags:</p><ul><li><strong>--unity_path</strong>: Path to the Unity installation. If not provided, defaults to <code>$UNITY_PATH</code>. If <code>$UNITY_PATH</code> is not provided, the script will automatically search through a list of common directories for a Unity installation.</li><li><strong>--build_name</strong>: Build name. If not provided, defaults to <code>micromissiles</code>.</li><li><strong>--build_root</strong>: Build root directory. If not provided, defaults to <code>Build/</code>.</li></ul><p>The standalone build is stored in a timestamped subdirectory of the build root directory.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span># Example build directory on a Mac.</span></span>
<span class="line"><span>Build/</span></span>
<span class="line"><span>  ├── 20251117_104914/</span></span>
<span class="line"><span>  │   ├── micromissiles.app</span></span>
<span class="line"><span>  │   ├── micromissiles_BurstDebugInformation_DoNotShip/</span></span>
<span class="line"><span>  │   └── unity.log</span></span>
<span class="line"><span>  │</span></span>
<span class="line"><span>  └── ...</span></span></code></pre></div><h2 id="run-configuration" tabindex="-1">Run Configuration <a class="header-anchor" href="#run-configuration" aria-label="Permalink to “Run Configuration”">​</a></h2><p>Run configurations are used to invoke simulation runs on the standalone player using the command line. Run configurations can only be used on the standalone player and not in the interactive mode in the Unity Editor.</p><p>The run configuration defines the simulation configuration to use, the number of runs to perform, and the seed to use for the random number generator. The <a href="https://github.com/PisterLab/micromissiles-unity/blob/master/Assets/Proto/Configs/run_config.proto" target="_blank" rel="noreferrer"><code>run_config.proto</code></a> file defines the run config proto message that is used to parse the run configuration files in Protobuf text format. The main benefit of a run configuration is that multiple simulation runs can be performed sequentially on a single simulation configuration to generate aggregated statistics.</p><p>The run configuration includes:</p><ul><li><strong>name</strong>: Run configuration name used to name the log directory.</li><li><strong>simulation_config_file</strong>: Simulation configuration to use for this run.</li><li><strong>num_runs</strong>: Number of times to run the simulation configuration.</li><li><strong>seed</strong>: Random number generator seed.</li><li><strong>seed_stride</strong>: The seed increment for subsequent runs.</li></ul><h2 id="running-from-command-line" tabindex="-1">Running from Command Line <a class="header-anchor" href="#running-from-command-line" aria-label="Permalink to “Running from Command Line”">​</a></h2><h4 id="flags" tabindex="-1">Flags <a class="header-anchor" href="#flags" aria-label="Permalink to “Flags”">​</a></h4><ul><li><strong><code>--config &lt;config_file&gt;</code></strong>: Specifies the path to the run configuration file relative to the <code>Assets/StreamingAssets/Configs/Runs</code> directory.</li><li><strong><code>-logFile &lt;log_file&gt;</code></strong> (optional): Specifies where Unity will place its <a href="https://docs.unity3d.com/540/Documentation/Manual/LogFiles.html" target="_blank" rel="noreferrer">Editor log</a>.</li></ul><h4 id="windows" tabindex="-1">Windows <a class="header-anchor" href="#windows" aria-label="Permalink to “Windows”">​</a></h4><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cd .\\Build\\</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timestamp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">micromissiles.exe</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config batch_7_quadcopters.pbtxt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">\`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">batchmode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">\`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nographics </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">\`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">logFile micromissiles.log</span></span></code></pre></div><h4 id="mac" tabindex="-1">Mac <a class="header-anchor" href="#mac" aria-label="Permalink to “Mac”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Build/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">timestam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./micromissiles.app/Contents/MacOS/micromissiles</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    --config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> batch_7_quadcopters.pbtxt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -batchmode</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -nographics</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -logFile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> micromissiles.log</span></span></code></pre></div><h4 id="linux" tabindex="-1">Linux <a class="header-anchor" href="#linux" aria-label="Permalink to “Linux”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Build/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">timestam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./micromissiles</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> batch_7_quadcopters.pbtxt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -batchmode</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -nographics</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -logFile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> micromissiles.log</span></span></code></pre></div><p>Logs are exported to the <code>Logs</code> directory in your operating system&#39;s <a href="https://docs.unity3d.com/ScriptReference/Application-persistentDataPath.html" target="_blank" rel="noreferrer">persistent data path</a>. The run configuration creates a parent directory called <code>&lt;run_config_name&gt;_&lt;timestamp&gt;</code>, in which the per-run logs are stored in separate subdirectories called <code>run_&lt;run_index&gt;_seed_&lt;seed&gt;</code>.</p><p>For more details on logging and log processing, consult the <a href="./Simulation_Logging.html">Simulation Logging</a> guide.</p>`,29)])])}const k=s(t,[["render",l]]);export{g as __pageData,k as default};
